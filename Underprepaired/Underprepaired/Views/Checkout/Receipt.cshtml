@using Microsoft.AspNetCore.Identity
@using Underprepaired.Models
@inject SignInManager<ApplicationUser> SignInManager
@model dynamic


@{ decimal total = 0;}

@foreach (var item in Model.CartItems)
{
    <div>
        <a asp-action="Details" asp-controller="Products" asp-route-id="@item.ProductID">
            @item.Product.Name
        </a>

        <p>
            Price: @item.Product.Price
        </p>

        <p>
            Quantity: @item.Quantity
        </p>

        <p>
            Total: $@(item.Product.Price * item.Quantity)
        </p>
    </div>

    total += item.Product.Price * item.Quantity;
}

<h2> Grand Total: @total </h2>