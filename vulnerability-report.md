# Vulnerability Report

## SQL Injection
When someone uses an input field to make database calls directly without permission.

This allows unauthorized access to our database and could let someone manipulate our data without our knowledge.

Repair
One way we can fight this problem is by making sure that we are using Prepared Statements with Parameterized Queries.

[Example]
```
 String query = 
 	 "SELECT account_balance FROM user_data WHERE user_name = ?";
 try {
 	OleDbCommand command = new OleDbCommand(query, connection);
 	command.Parameters.Add(new OleDbParameter("customerName", CustomerName Name.Text));
 	OleDbDataReader reader = command.ExecuteReader();
 	// …
 } catch (OleDbException se) {
 	// error handling
 } 
 ```


## Weak Account Management
When account creation and management contains huge flaws that leave accounts open to hacking.

This allows unauthorized access our accounts in our website and lets user's accounts be hacked.

Repair
We can do several things, like salting our passwords, using Identity framework, and not saving passwords directly in our db.

[Example]
```
Password: farm1990M0O
Salt: f1nd1ngn3m0
Salted input: farm1990M0Of1nd1ngn3m0
Hash (SHA-256): b7d5f95f03261f201b78f7a133f50848f2389f032b4fec9be07f80b34ae89e09
```

## Cross Site Scripting
Write scripts that directly affect the page, usually done with javascript on the front end.

Someone could portentially write a script that allows them to steal user data by stealing user input on forms, such as login information.

Repair
We can avoid this by not allowing script tags and by using tag helpers on our website.

[Example]
```
<form asp-action="Logout" asp-controller="Account" method="post">
    <button class="btn-link nav-link border-0" type="submit">Logout</button>
</form>
```



## Unauthorized Directory Traversal
To go through our entire file structure withour permission

Someone could get access to files we dont want them to have, like our .sln file, by traversing our file structure.

Repair
We can avoid this by backing up our sensitive and bulk information and not having it in the same directory as our website.

[Example]
```
private static readonly char[] InvalidFilenameChars = Path.GetInvalidFileNameChars();
public ActionResult Download(string fileName)
{
    if (fileName.IndexOfAny(InvalidFilenameChars) >= 0)
        return new HttpStatusCodeResult(HttpStatusCode.BadRequest);

    var rootPath = Server.MapPath("~/ClientDocument/");
    byte[] fileBytes = System.IO.File.ReadAllBytes(Path.Combine(rootPath, fileName));
    return File(fileBytes, System.Net.Mime.MediaTypeNames.Application.Octet, fileName);
}
```
